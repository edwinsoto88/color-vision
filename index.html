<!DOCTYPE html>
<html>

<head>
  <meta name="viewport" content="with=device-width, initial-scale=1.0">
  <title>Color Vision Website</title>
  <link rel="stylesheet" href="assets/css/style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;300;400;600;700&display=swap" rel="stylesheet">
  <meta name="color-scheme" content="light">
</head>

<body>
  <section class="header">
    <nav>
      <a href="index.html"> <img src="assets/images/Logo.png"></a>
      <div class="navlinks">
        <ul>
          <li><a href=""><i class="fa fa-fw fa-home"></i>Home</a></li>
          <li><a href="tests.html"><i class="fa fa-fw fa-check"></i>Tests</a></li>
          <li><a href=""><i class="fa fa-fw fa-user"></i>Profile</a>
            <ul class="profile-drop">
              <li class="nav-item">
                <a id="userlink" class="nav-link" href="login.html">Username</a>
              </li>
              <li class="nav-item">
                <a href="signup.html">Registration</a>
              </li>
              <li class="nav-item">
                <a id="signoutlink" class="nav-link" href="">Sign Out</a>
              </li>
            </ul>
          </li>
        </ul>
      </div>
    </nav>
    
    <div class="main-menu-textbox">
      <h1>Welcome to Color-Vision</h1>
      <p>Check if you have color vision deficiency by taking our free online tests.<br>Learn more about color-blindness and which type you have</p>
      <a href="tests.html" class="testbutton">Start Tests</a>
    </div>
  </section>

  <!---- Our Vision ---->
  <section class="Vision">
    <h1>Our Vision</h1>
    <p>Our goal is to educate and spread awareness about color blindess.</p>

    <div class="row">
      <div class="Our-Vision">
        <h3>Educate</h3>
        <p>One of our main focuses is to educate the public about what all color blindess entails. It is important to
          understand that color blindess is a spectrum and there are several different ways that and individual can be
          considered color blind. </p>
      </div>
      <div class="Our-Vision">
        <h3>Spread Awareness</h3>
        <p>Spreading awareness regarding the number of indiviudals who expeirence color blindess is another one of our
          goals. The number of color blind people in the world is under represented in today's world, so we would like
          to help fix that. </p>
      </div>
      <div class="Our-Vision">
        <h3>Diagnose</h3>
        <p>Our vision also includes being able to help users determine if they might fall in the spectrum of color
          blindness. To achieve this, we have put together a series of tests which you can take to help determine your
          level of color blindness.</p>
      </div>
    </div>
  </section>
  <script>
//-----------------------------References----------------------------------//
    let userLink = document.getElementById('userLink');
    let signoutlink = document.getElementById('singoutlink');
    let header = document.getElementById('singoutlink');
    var currentUser = null;

//-----------------------------Functions-----------------------------------//
    function getUsername(){
      let keepLoggedIn = localStorage.getItem("keepLoggedIn");

      if(keepLoggedIn == "yes"){
        currentUser = JSON.parse(localStorage.getItem('user'));
      }
      else {
        currentUser = JSON.parse(sessionStorage.getItem('user'));
      }
    }

    function Signout() {
      sessionStorage.removeItem('user');
      localStorage.removeItem('user');
      localStorage.removeItem('keepLoggedIn');
      window.location = "index.html";
    }

//----------------------------Windows Loads -------------------------------//
    window.onload = function(){
      getUsername();
      if(currentUser == null){
        userLink.innerText = "Create New Account";
        userLink.classList.replace("nav-link", "btn");
        userLink.classList.add("btn-primary");
        userLink.href = "signup.html";

        userLink.innerText = "Login";
        userLink.classList.replace("nav-link", "btn");
        userLink.classList.add("btn-success");
        userLink.href = "login.html";
      }
      else {
        userLink.innerText = currentUser.username;
        header.innerText = "welcome "+ currentUser.fullname;
        userLink.classList.replace("nav-link", "btn");
        userLink.classList.remove("btn-primary");
        userLink.href = "#";

        userLink.innerText = "SignOut";
        userLink.classList.replace("btn", "nav-link");
        userLink.classList.remove("btn-success");
        userLink.href = "javascript:SignOut()";
      }
    }
  </script>
</body>

</html>
